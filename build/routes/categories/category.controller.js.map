{"version":3,"sources":["..\\..\\..\\server\\routes\\categories\\category.controller.js"],"names":[],"mappings":"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","file":"server/routes/categories/category.controller.js","sourcesContent":["import Category from './category.model';\r\n\r\nconst index = (req, res, next)=> {\r\n\r\n    Category.find({})\r\n        .exec((error, cats)=>{\r\n            if(error){\r\n                return next(error);\r\n            }\r\n            if(!cats){\r\n                return next(error);\r\n            }\r\n            res.json(cats);\r\n        })\r\n}\r\n\r\nconst update = (req, res, next)=>{\r\n    let id = req.params.categoryId;\r\n\r\n    Category.findById(id)\r\n        .exec((error, cat)=>{\r\n            if(error) return next(error);\r\n            if(!cat) return next(error);\r\n\r\n            cat.update(req.body, { runValidators: true, context: 'query' }, (err, category)=> {\r\n\r\n                if(err) {\r\n                    res.json({ error: 'Validation error' });\r\n                }else {\r\n                    res.json(category);\r\n                }\r\n\r\n            });\r\n        });\r\n}\r\n\r\nconst create = (req, res, next)=>{\r\n    let newCat = new Category(req.body);\r\n\r\n    newCat.save((error, cat)=>{\r\n\r\n        if(error) {\r\n            res.send(error);\r\n        }\r\n        res.status(201).json(cat);\r\n    });\r\n}\r\n\r\nconst remove = (req, res, next)=>{\r\n    let id = req.params.categoryId;\r\n\r\n    Category.findById(id)\r\n        .exec((error, cat)=>{\r\n            if(error) return next(error);\r\n            if(!cat) return next(error);\r\n\r\n            cat.remove((error)=>{\r\n                if(error) return next(error);\r\n\r\n                res.status(204).end();\r\n            });\r\n        });\r\n}\r\n\r\nconst getOne = (req, res, next)=>{\r\n    let id = req.params.categoryId;\r\n\r\n    Category.findById(id)\r\n        .exec((error, cat)=>{\r\n            if(error) return next(error);\r\n            if(!cat) return next(error);\r\n\r\n            res.json(cat);\r\n        });\r\n}\r\n\r\n\r\nexport { index, update, create, remove, getOne } ;\r\n"]}