{"version":3,"sources":["..\\..\\server\\routes\\auth.js"],"names":[],"mappings":";;AAAA,IAAM,GAAG,GAAG,wCAAwC,CAAC;AACrD,IAAM,GAAG,GAAG,+BAA+B,CAAC;;IACpC,SAAS,WAAO,wBAAwB,EAAxC,SAAS;;iBAEF,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAG;AAC7B,QAAI,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;AAC3B,QAAG,KAAK,KAAG,SAAS,IAAI,KAAK,KAAK,IAAI,EAAC;AACnC,aAAK,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAA;KAC1B;AACD,QAAG,GAAG,CAAC,MAAM,KAAI,KAAK,EAAC;AACnB,iBAAS,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAC,QAAQ,EAAG;AAC9B,gBAAI,EAAE,CAAA;SACT,EAAE,UAAC,KAAK,EAAG;AACR,mBAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,eAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACjB,uBAAO,EAAE,gBAAgB;aAC5B,CAAC,CAAC;SACN,CAAC,CAAC;KACN,MAAK;AACF,YAAI,EAAE,CAAC;KACV;CAGJ","file":"server/routes/auth.js","sourcesContent":["const URL = './server/routes/user/confidential.json';\r\nconst JWT = \"./server/routes/user/JTW.json\";\r\nimport {checkAuth} from './user/user.controller';\r\n\r\nexport default (req, res, next)=>{\r\n    let token = req.body.token;\r\n    if(token===undefined || token === null){\r\n        token = req.query.token\r\n    }\r\n    if(req.method !=='GET'){\r\n        checkAuth(token).then((response)=>{\r\n            next()\r\n        }, (error)=>{\r\n            console.log(error);\r\n            res.status(403).json({\r\n                message: \"not authorized\"\r\n            });\r\n        });\r\n    }else {\r\n        next();\r\n    }\r\n\r\n\r\n}"]}